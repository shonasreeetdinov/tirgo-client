"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9797],{9797:(H,h,c)=>{c.r(h),c.d(h,{AuthPageModule:()=>L});var p=c(6814),s=c(6223),r=c(7331),g=c(5356),l=c(5861),t=c(2029),f=c(1885),m=c(2014),x=c(8720),C=c(9862),P=c(1869),d=c(3999);function b(e,a){1&e&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")))}function A(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"span",17)(1,"span",18),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.openCountryModal())}),t._uU(2),t.qZA(),t.TgZ(3,"input",19),t.NdJ("ngModelChange",function(o){t.CHM(n);const u=t.oxw();return t.KtG(u.phone=o)})("input",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.formatPhone())}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.AsE(" ",n.flag," ",n.prefix," "),t.xp6(1),t.s9C("placeholder",n.mask),t.Q6J("ngModel",n.phone)}}function M(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"span",20)(1,"label",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"input",22),t.NdJ("ngModelChange",function(o){t.CHM(n);const u=t.oxw();return t.KtG(u.code=o)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.lnq("",t.lcZ(3,4,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")," ",n.prefix," ",n.phone,""),t.xp6(2),t.Q6J("ngModel",n.code)}}function k(e,a){if(1&e&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0421\u041c\u0421 \u0447\u0435\u0440\u0435\u0437")," ",n.timer," ",t.lcZ(3,5,"\u0441\u0435\u043a"),".")}}function Z(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"ion-item",24)(2,"label",25)(3,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(n);const u=t.oxw();return t.KtG(u.policy=o)}),t.qZA(),t._UZ(4,"span",27),t.qZA(),t.TgZ(5,"ion-label"),t._uU(6),t.ALo(7,"translate"),t.TgZ(8,"a",28),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._uU(11,". "),t.qZA()(),t.TgZ(12,"ion-item",24)(13,"label",25)(14,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(n);const u=t.oxw();return t.KtG(u.offer=o)}),t.qZA(),t._UZ(15,"span",27),t.qZA(),t.TgZ(16,"ion-label"),t._uU(17),t.ALo(18,"translate"),t.TgZ(19,"a",29),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._uU(22,". "),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngModel",n.policy),t.xp6(3),t.hij(" ",t.lcZ(7,6,"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e")," "),t.xp6(3),t.Oqu(t.lcZ(10,8,"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438")),t.xp6(5),t.Q6J("ngModel",n.offer),t.xp6(3),t.hij(" ",t.lcZ(18,10,"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e")," "),t.xp6(3),t.Oqu(t.lcZ(21,12,"\u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u043e\u0444\u0435\u0440\u0442\u0443"))}}function O(e,a){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0421\u041c\u0421")))}function T(e,a){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function y(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.signIn())}),t.YNc(1,O,3,3,"ng-container",10),t.YNc(2,T,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function J(e,a){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))}function v(e,a){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function I(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.verifyCode())}),t.YNc(1,J,3,3,"ng-container",10),t.YNc(2,v,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function E(e,a){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0421\u041c\u0421")))}function F(e,a){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function N(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.signIn())}),t.YNc(1,E,3,3,"ng-container",10),t.YNc(2,F,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function w(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item",38),t.NdJ("click",function(){const u=t.CHM(n).$implicit,_=t.oxw(3);return t.KtG(_.selectCode(u))}),t.TgZ(1,"ion-avatar",39)(2,"div",40),t._uU(3),t.qZA()(),t.TgZ(4,"ion-label")(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.TgZ(9,"b"),t._uU(10),t.qZA()()()()}if(2&e){const n=a.$implicit;t.xp6(3),t.hij(" ",n.flag," "),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.hij("",n.code," "),t.xp6(2),t.Oqu(n.dial_code)}}function Q(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ion-content",34)(1,"ion-searchbar",35),t.NdJ("ionInput",function(o){t.CHM(n);const u=t.oxw(2);return t.KtG(u.findPhoneCode(o))})("click",function(){t.CHM(n),t.oxw();const o=t.MAs(1);return t.KtG(o.setCurrentBreakpoint(.75))}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"ion-list",36),t.YNc(4,w,11,4,"ion-item",37),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u0434\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")),t.xp6(3),t.Q6J("ngForOf",n.phonescodes)}}const B=function(){return[0,.5,1]};function U(e,a){1&e&&(t.TgZ(0,"ion-modal",32,33),t.YNc(2,Q,5,4,"ng-template"),t.qZA()),2&e&&t.Q6J("initialBreakpoint",.5)("breakpoints",t.DdM(2,B))}const Y=[{path:"",component:(()=>{class e{constructor(n,i,o,u,_,D,S,G){this.router=n,this.app=i,this.storage=o,this.modalCtrl=u,this.httpClient=_,this.authService=D,this.navCtrl=S,this.alertController=G,this.phone="",this.prefix="+998",this.flag="\u{1f1fa}\u{1f1ff}",this.code="",this.mask="(00) 000-00-00",this.codeon=!1,this.error=!1,this.searchinput="",this.policy=!1,this.offer=!1,this.loading=!1,this.timer=59}ngOnInit(){this.getJSONFromLocal().subscribe(n=>{this.phonescodesOriginal=n,this.phonescodes=this.phonescodesOriginal},n=>console.error(`Failed because: ${n}`))}getJSONFromLocal(){return this.httpClient.get("./assets/json/phone.json")}openCountryModal(){this.modalCtrl.create({component:this.countryModal}).then(n=>{n.present()})}formatPhone(){const n=this.phone.replace(/\D/g,"");let i="",o=0,u=0;for(;o<this.mask.length&&u<n.length;)"0"===this.mask[o]?(i+=n[u],u++):i+=this.mask[o],o++;this.phone=i}signIn(){var n=this;return(0,l.Z)(function*(){n.loading=!0,n.phone.length<n.mask.length?(yield n.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),n.loading=!1):n.offer?n.policy?yield n.authService.loginUser(n.prefix+""+n.phone).toPromise().then(function(){var i=(0,l.Z)(function*(o){o.status&&(n.codeon=!0,n.loading=!1,n.timer=59,setInterval(()=>{n.timer>0&&(n.timer=n.timer-1)},1e3)),n.error=!1});return function(o){return i.apply(this,arguments)}}()).catch(function(){var i=(0,l.Z)(function*(o){n.error=!0,n.loading=!1});return function(o){return i.apply(this,arguments)}}()):(yield n.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),n.loading=!1):(yield n.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u043e\u0444\u0435\u0440\u0442\u0443"),n.loading=!1)})()}verifyCode(){var n=this;return(0,l.Z)(function*(){n.loading=!0,yield n.authService.verifyCode(n.prefix+""+n.phone,n.code).toPromise().then(function(){var i=(0,l.Z)(function*(o){o.status?(console.log(o),yield n.authService.setJwt(o.token,o.refreshToken)):(yield n.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",o.text),n.loading=!1),n.error=!1});return function(o){return i.apply(this,arguments)}}()).catch(function(){var i=(0,l.Z)(function*(o){n.loading=!1,n.error=!0});return function(o){return i.apply(this,arguments)}}())})()}findPhoneCode(n){this.searchinput=n.target.value,this.phonescodes=this.phonescodesOriginal.filter(i=>i.name?i.name.toLowerCase().includes(this.searchinput.toLowerCase())||!i.code?i.code:i.code.toLowerCase().includes(this.searchinput.toLowerCase())||!i.dial_code?i.dial_code:i.dial_code.toLowerCase().includes(this.searchinput.toLowerCase()):i.name)}selectCode(n){this.modalCtrl.dismiss(),this.prefix=n.dial_code,this.flag=n.flag,this.mask=n.mask}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(g.F0),t.Y36(f.y),t.Y36(m.K),t.Y36(r.IN),t.Y36(C.eN),t.Y36(P.$),t.Y36(x.SH),t.Y36(r.Br))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:19,vars:12,consts:[[1,"ion-padding"],[1,"auth"],["src","/assets/logos/tirgo-logo.png","alt","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",1,"auth__logo"],[1,"auth__main","form"],[1,"auth__inputs"],[1,"form__group"],["class","form__label",4,"ngIf"],["class","form__input input-mode-tel",4,"ngIf"],["class","form__input input-code",4,"ngIf"],["class","resend-sms",4,"ngIf"],[4,"ngIf"],["class","btn-orange",3,"disabled","click",4,"ngIf"],["class","btn-orange",3,"click",4,"ngIf"],[1,"auth__support","btn",3,"click"],[1,"icm-support"],["trigger","open-modal-select-code","class","modal-phone-select-code",3,"initialBreakpoint","breakpoints",4,"ngIf"],[1,"form__label"],[1,"form__input","input-mode-tel"],["id","open-modal-select-code",3,"click"],["type","tel","inputmode","tel","id","phone","name","phone",1,"phone-input",3,"placeholder","ngModel","ngModelChange","input"],[1,"form__input","input-code"],["for","pass"],["id","pass","inputmode","tel","autocomplete","one-time-code","type","text","name","pass",3,"ngModel","ngModelChange"],[1,"resend-sms"],["lines","none",1,"agroinput","ion-no-margin","ion-no-padding","accept-text"],[1,"custom-checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkmark"],["href","https://tirgo.io/privacy-policy/"],["href","https://tirgo.io/public_offer.html"],[1,"btn-orange",3,"disabled","click"],[1,"btn-orange",3,"click"],["trigger","open-modal-select-code",1,"modal-phone-select-code",3,"initialBreakpoint","breakpoints"],["modal",""],[1,"phone-code-select"],["slot","fixed",3,"placeholder","ionInput","click"],[1,"list-phone-code"],["lines","none",3,"click",4,"ngFor","ngForOf"],["lines","none",3,"click"],["slot","start"],[1,"flag-phone"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-content",0)(1,"main",1),t._UZ(2,"img",2),t.TgZ(3,"section",3)(4,"div",4)(5,"label",5),t.YNc(6,b,3,3,"span",6),t.YNc(7,A,4,4,"span",7),t.YNc(8,M,5,6,"span",8),t.YNc(9,k,4,7,"span",9),t.qZA()(),t.YNc(10,Z,23,14,"ng-container",10),t.YNc(11,y,3,3,"button",11),t.YNc(12,I,3,2,"button",12),t.YNc(13,N,3,2,"button",12),t.TgZ(14,"button",13),t.NdJ("click",function(){return o.authService.goToSupport()}),t._UZ(15,"i",14),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.YNc(18,U,3,3,"ion-modal",15),t.qZA()()),2&i&&(t.xp6(6),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon),t.xp6(1),t.Q6J("ngIf",o.timer>0&&o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon&&o.timer<=0),t.xp6(3),t.hij(" ",t.lcZ(17,10,"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")," "),t.xp6(2),t.Q6J("ngIf",!o.codeon))},dependencies:[p.sg,p.O5,s.Fj,s.Wl,s.JJ,s.On,r.BJ,r.W2,r.Ie,r.Q$,r.q_,r.VI,r.PQ,r.ki,r.j9,d.X$],styles:['.auth[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column}.auth__logo[_ngcontent-%COMP%]{width:13.75rem;margin:1.25rem 0 3.125rem}.auth__main[_ngcontent-%COMP%]{display:grid}.auth__inputs[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth__wrong-text[_ngcontent-%COMP%]{color:#d92e2e;padding:.3125rem 0;font-weight:500}.auth__submit[_ngcontent-%COMP%]{height:3.75rem;font-size:1.125rem;font-style:italic;margin-bottom:1.5625rem}.auth__forgot[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:1rem}.auth__forgot[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:#fff;font-size:1.125rem;padding:.9375rem 0;text-align:center}.auth__restore[_ngcontent-%COMP%]{border-bottom:.0625rem dashed;margin-left:.3125rem}.auth__support[_ngcontent-%COMP%]:has(.icm-support)   i.icm-support[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-right:.625rem}.input-mode-tel[_ngcontent-%COMP%]{margin-right:10px}.input-mode-tel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;background:#413f4f;color:#fff;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:nowrap;align-content:center;position:absolute;height:56px;border-radius:4px 0 0 4px}.input-mode-tel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:70px;width:calc(100% - 70px)}.input-mode-tel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:15px!important;margin-bottom:15px!important}.input-code[_ngcontent-%COMP%]{display:block!important}.input-code[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;color:#fff!important}.agroinput[_ngcontent-%COMP%]{background:#1c1a28;--background: #1c1a28;margin-bottom:10px}.agroinput[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:10px;color:#fff}.agroinput[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.agroinput[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background: #262434}.btn-orange[_ngcontent-%COMP%]{margin-bottom:10px}.resend-sms[_ngcontent-%COMP%]{display:block;color:#fff;margin-top:10px}.agroinput[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background: white !important;--background-checked: #ed901e !important}.custom-checkbox[_ngcontent-%COMP%]{position:relative;display:inline-block;width:20px;height:20px;border-radius:50%;border:2px solid #ed901e;background-color:#262434;cursor:pointer}.custom-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:0;height:0;cursor:pointer}.custom-checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;border-radius:inherit;background-color:inherit;transition:background-color .2s}.custom-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#ed901e;border-color:transparent}.custom-checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;transform:rotate(45deg)}.custom-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}']})}return e})()}];let q=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(Y),g.Bz]})}return e})(),L=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[p.ez,s.u5,r.Pc,q,d.aw]})}return e})()}}]);