"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4241],{4241:(k,M,a)=>{a.r(M),a.d(M,{SupportPageModule:()=>F});var f=a(6814),m=a(6223),p=a(7331),h=a(5356),C=a(5861),e=a(2029),A=a(8720),v=a(1869);let y=(()=>{class r{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(t,n){return r.isString(t)&&r.isString(n)?t.localeCompare(n):r.defaultCompare(t,n)}static defaultCompare(t,n){return t&&t instanceof Date&&(t=t.getTime()),n&&n instanceof Date&&(n=n.getTime()),t===n?0:null==t?1:null==n?-1:t>n?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,n){for(let s=0,i=n.length;s<i;++s){if(!t)return;const o=n[s];if(!(o in t))return;t="function"==typeof t[o]?t[o]():t[o]}return t}static setValue(t,n,s){let i;for(i=0;i<s.length-1;i++)t=t[s[i]];t[s[i]]=n}transform(t,n,s,i=!1,o){return t&&(Array.isArray(n)?this.multiExpressionTransform(t,n.slice(),s,i,o):Array.isArray(t)?this.sortArray(t.slice(),n,s,i,o):"object"==typeof t?this.transformObject(Object.assign({},t),n,s,i,o):t)}sortArray(t,n,s,i,o){const l=n&&-1!==n.indexOf(".");let u;l&&(n=r.parseExpression(n)),u=o&&"function"==typeof o?o:i?r.caseInsensitiveSort:r.defaultCompare;const c=t.sort((d,g)=>n?l?u(r.getValue(d,n),r.getValue(g,n)):d&&g?u(d[n],g[n]):u(d,g):u(d,g));return s?c.reverse():c}transformObject(t,n,s,i,o){const l=r.parseExpression(n);let u=l.pop(),c=r.getValue(t,l);return Array.isArray(c)||(l.push(u),u=null,c=r.getValue(t,l)),c&&r.setValue(t,this.transform(c,u,s,i),l),t}multiExpressionTransform(t,n,s,i=!1,o){return n.reverse().reduce((l,u)=>this.transform(l,u,s,i,o),t)}static \u0275fac=function(n){return new(n||r)};static \u0275pipe=e.Yjl({name:"orderBy",type:r,pure:!1})}return r})(),_=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({providers:[y]})}return r})();var S=a(3999);function Z(r,x){if(1&r&&(e.ynx(0),e.TgZ(1,"p",14)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.BQk()),2&r){const t=x.$implicit;e.xp6(1),e.Q6J("ngClass",t.user_admin_id?"_support":"_client"),e.xp6(2),e.Oqu(t.text),e.xp6(2),e.Oqu(e.xi3(6,3,t.date,"dd MMMM YYYY \u0432 HH:mm"))}}const P=[{path:"",component:(()=>{class r{constructor(t,n,s){this.navCtrl=t,this.authService=n,this.router=s,this.message="",this.disablebuttonsend=!1}ngOnInit(){}doRefresh(t){var n=this;return(0,C.Z)(function*(){n.authService.messages=yield n.authService.getMessages().toPromise(),setTimeout(()=>{t.target.complete()},1e3)})()}back(){this.navCtrl.back()}sendMessage(){this.disablebuttonsend=!0,this.authService.sendMessage(this.message).toPromise().then(t=>{this.authService.messages.push(t.data),this.disablebuttonsend=!1,this.message=""}).catch(t=>{this.authService.alert("\u0423\u043f\u0441","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})}static#t=this.\u0275fac=function(n){return new(n||r)(e.Y36(A.SH),e.Y36(v.$),e.Y36(h.F0))};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-support"]],decls:22,vars:13,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],["slot","fixed","pullFactor","1","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles",1,"loadingspinner"],[1,"support"],[1,"support__messages"],[4,"ngFor","ngForOf"],[1,"support__input"],[1,"form__input"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"support__submit",3,"disabled","click"],[1,"icm-send"],[1,"support__message",3,"ngClass"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return s.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content")(10,"ion-refresher",4),e.NdJ("ionRefresh",function(o){return s.doRefresh(o)}),e._UZ(11,"ion-refresher-content",5),e.qZA(),e.TgZ(12,"main",6)(13,"section",7),e.YNc(14,Z,7,6,"ng-container",8),e.ALo(15,"orderBy"),e.qZA(),e.TgZ(16,"div",9)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(o){return s.message=o}),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return s.sendMessage()}),e._UZ(21,"i",13),e.qZA()()()()()),2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,6,"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")),e.xp6(8),e.Q6J("ngForOf",e.xi3(15,8,s.authService.messages,"created_at")),e.xp6(4),e.s9C("placeholder",e.lcZ(19,11,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")),e.Q6J("disabled",s.disablebuttonsend)("ngModel",s.message),e.xp6(2),e.Q6J("disabled",s.disablebuttonsend))},dependencies:[f.mk,f.sg,m.Fj,m.JJ,m.On,p.W2,p.Gu,p.nJ,p.Wo,y,f.uU,S.X$],styles:[".support[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column}.support[_ngcontent-%COMP%]   header.header[_ngcontent-%COMP%]{background:#1c1a28;position:fixed;width:100%;top:0;left:0;padding:.9375rem .625rem}.support__messages[_ngcontent-%COMP%]{padding:.3125rem 16px;flex:1 1 auto;display:flex;flex-direction:column;overflow:auto}.support__message[_ngcontent-%COMP%]{padding:.9375rem;border-radius:.625rem;background:#252333;color:#fff;width:75%;margin-bottom:.625rem}.support__message._support[_ngcontent-%COMP%]{text-align:left;border-bottom-left-radius:0}.support__message._client[_ngcontent-%COMP%]{text-align:right;margin-left:auto;border-bottom-right-radius:0}.support__message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:5px;display:block}.support__input[_ngcontent-%COMP%]{padding:.9375rem;background:#1c1a28;position:fixed;width:100%;bottom:0;left:0;display:flex;align-items:center}.support__input[_ngcontent-%COMP%]:has([class*=icm-])   [class*=icm-][_ngcontent-%COMP%]{position:static}.support__input[_ngcontent-%COMP%]:has([class*=icm-])   input[_ngcontent-%COMP%]{padding-left:1.25rem;padding-right:3.125rem}.support__submit[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:2;right:.9375rem;padding:.3125rem}"]})}return r})()}];let T=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(P),h.Bz]})}return r})();var O=a(324),J=a(2319);let F=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[_,f.ez,m.u5,p.Pc,T,O.HeaderPageModule,J.h,S.aw]})}return r})()}}]);