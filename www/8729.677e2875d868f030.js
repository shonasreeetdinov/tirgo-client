"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8729],{8729:(C,l,u)=>{u.r(l),u.d(l,{OrdersPageModule:()=>q});var s=u(6814),g=u(6223),c=u(7331),d=u(5356),m=u(5861),f=u(5053),t=u(2029),h=u(8882),v=u(8720),Z=u(8836),p=u(3999);function _(i,o){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const e=o.$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.returnNameTypeTransport(e))}}function x(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.setRaitingDriver(n.id,n.driver_id))}),t._uU(2," \u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f "),t.qZA()()}}function A(i,o){if(1&i&&(t.TgZ(0,"article",5)(1,"div",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8)(5,"div",9),t._UZ(6,"i",10),t.TgZ(7,"p")(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA()(),t.TgZ(13,"div",9),t._UZ(14,"i",11),t.TgZ(15,"p")(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"br"),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",12)(22,"div",13)(23,"p",14)(24,"span"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"b"),t._uU(28),t.ALo(29,"date"),t.qZA()(),t.TgZ(30,"p",14)(31,"span"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"td"),t.YNc(35,_,2,1,"div",15),t.qZA()(),t.TgZ(36,"p",14)(37,"span"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"b"),t._uU(41),t.qZA()(),t.TgZ(42,"p",14)(43,"span"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"b"),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t.TgZ(49,"p",14)(50,"span"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"b"),t._uU(54),t.qZA()(),t.YNc(55,x,3,0,"div",16),t.qZA()()()),2&i){const e=t.oxw().$implicit,r=t.oxw();let n;t.xp6(3),t.hij(" \u2116",r.authService.addLeadingZeros(e.id)," "),t.xp6(6),t.Oqu(t.lcZ(10,17,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0438\u0437")),t.xp6(3),t.hij(" ",e.route.from_city," "),t.xp6(5),t.Oqu(t.lcZ(18,19,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0432")),t.xp6(3),t.hij(" ",e.route.to_city," "),t.xp6(5),t.Oqu(t.lcZ(26,21,"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438")),t.xp6(3),t.Oqu(t.xi3(29,23,e.date_send,"dd MMMM YYYY \u0432 HH:mm")),t.xp6(4),t.Oqu(t.lcZ(33,26,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430")),t.xp6(3),t.Q6J("ngForOf",e.transport_types),t.xp6(3),t.Oqu(t.lcZ(39,28,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430")),t.xp6(3),t.Oqu(r.returnNameCargoType(e.type_cargo)),t.xp6(3),t.Oqu(t.lcZ(45,30,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430")),t.xp6(3),t.AsE("",e.weight," ",t.lcZ(48,32,"\u043a\u0433"),"."),t.xp6(4),t.Oqu(t.lcZ(52,34,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c")),t.xp6(3),t.Oqu(null==(n=r.getAcceptedDriver(e.id))?null:n.name),t.xp6(1),t.Q6J("ngIf",!e.raiting_driver&&e.driver_id)}}function T(i,o){if(1&i&&(t.ynx(0),t.YNc(1,A,56,36,"article",4),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",2===e.status)}}const y=[{path:"",component:(()=>{class i{constructor(e,r,n,a){this.authService=e,this.platform=r,this.router=n,this.modalCtrl=a}ngOnInit(){}returnNameTypeTransport(e){const r=this.authService.typetruck.findIndex(n=>+n.id==+e);return r>=0?this.authService.typetruck[r].name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}returnNameCargoType(e){const r=this.authService.typecargo.findIndex(n=>+n.id==+e);return r>=0?this.authService.typecargo[r].name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}getAcceptedDriver(e){const r=this.authService.myorders.findIndex(n=>n.id===e);if(r>=0&&this.authService.myorders[r].orders_accepted&&this.authService.myorders[r].orders_accepted.length){const n=this.authService.myorders[r].orders_accepted.findIndex(a=>1===a.status_order);if(n>=0)return this.authService.myorders[r].orders_accepted[n]}}callMan(e){}setRaitingDriver(e,r){var n=this;return(0,m.Z)(function*(){yield(yield n.modalCtrl.create({component:f.b,showBackdrop:!0,breakpoints:[0,.6],initialBreakpoint:.6,presentingElement:yield n.modalCtrl.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios",componentProps:{orderid:e,driverid:r}})).present()})()}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(h.$),t.Y36(v.t4),t.Y36(d.F0),t.Y36(c.IN))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-orders"]],decls:5,vars:1,consts:[[1,"ion-padding"],[1,"archive"],[1,"archive__main"],[4,"ngFor","ngForOf"],["class","order",4,"ngIf"],[1,"order"],[1,"order__header"],[1,"order__title"],[1,"order__locates"],[1,"order__locate"],[1,"icm-locate"],[1,"icm-flag"],[1,"order__main"],[1,"order__infos"],[1,"order__info"],["style","color: #fff;",4,"ngFor","ngForOf"],["class","item-offers__btns full-button",4,"ngIf"],[2,"color","#fff"],[1,"item-offers__btns","full-button"],[1,"item-offers__btn","btn-succes",3,"click"]],template:function(r,n){1&r&&(t._UZ(0,"app-header"),t.TgZ(1,"ion-content",0)(2,"main",1)(3,"section",2),t.YNc(4,T,2,1,"ng-container",3),t.qZA()()()),2&r&&(t.xp6(4),t.Q6J("ngForOf",n.authService.myorders))},dependencies:[s.sg,s.O5,c.W2,Z.E,s.uU,p.X$]})}return i})()}];let O=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#r=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(y),d.Bz]})}return i})();var U=u(324),F=u(2319);let q=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#r=this.\u0275inj=t.cJS({imports:[s.ez,g.u5,c.Pc,O,U.HeaderPageModule,F.h,p.aw]})}return i})()}}]);